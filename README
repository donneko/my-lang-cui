# これについて

## 作成理由

HTMLの要素を自動で作成するのは、意外と難しい...
一般的な手順が、
1. JavaScriptでDOM要素を取得
2. Create〇〇でDOMを生成
3. innerHTML・appendでDOMを追加

これが一つの要素だけならいい。
だけど、実際はそんなことはなく、複数のタグを追加する必要もあるし、<ruby></ruby>に対応させるともっと大変...
何より、コードを各側も、サイトに訪れる人（ユーザー補助とか...）も良いとこはあまりないと思う.. 変更にも弱いし...

そんなことを考えながら、日々適当なサイトを作っては、壊し、作っては壊しを繰り返していたときに、学校の授業でなんやかんやありまして、私はウェブサイトを作る事になりました。
ただ、その時の私は納期までの時間を考えていませんでした。納期までの時間はだいたい2ヶ月ちょっと、確認作業などを含めたら、もっと少ないかも...

そんなときにに私はクラウドフレアをいじったり、バイト先のPOPのデザインを考えたり、スキーに行ってきたりと完全に遊んでウェブサイトのことなんて一切考えていませんでした。

「やばい...」そう感じたのは納期まで3週間まえ、「時間がない」
* デザインは別の人 | コードは私 ←こんな感じ

デザインを久しぶりに確認してみた。
「これは、間に合わないなぁ」そう思いながらも index.html のファイルを作って、コードをポチポチ打っていく、もっと早く進めていればなぁ。

一週間が経過した頃、悩んでいた。
なぜなら、そいつはボタンを押したら、背景と説明が変わるデザインがあったからだ。
最初はhtmlにすべて書いておいて、表示と非表示を切り替えるかなぁと考えていたが、それは変更と保守が大変すぎるのでやめた。
次にJsvaScriptでサイトの内容を変更する事を考えた。このアイデアは採用した... 最初はね

このアイデアには重大な欠点があった、
それは「デザインと仕様がコロコロ変わる」事だ。
例えば表示をフィルターしたいとか、文字の色も変えたいとか、特定の表示のときだけアニメーションなど、もしかしたら、あるかもしれない...

このときから、データを文字列にしてある程度変更を簡単にしようかなぁ〜とか、htmlやマークダウンにあるようなタグのようなものを作って、
変更とか追加が簡単にしたいなぁと考えだした。

これで、もしデザインが変わってもタグの処理を変えればいいじゃないか〜と。

そんなときに動画配信サイトで本屋さんのチャンネルで、「ルビ」について情熱的に必要性を語っていた方がいて、その内容にとても共感た。
* ルビは漢字の上に小さくついている、よみがなのこと。

「これをウェブサイトで実装したい!!」と思いHTMLにそんなタグはないのかなぁと調べていたところ... 「<ruby></ruby>」こんなタグがありこれならサイトに実装できそうだとおもいました。
試しに今作っているサイトに入れたいなぁ、そのサイトたしか、タグみたいのつかってhtml作ってたなぁ、もしルビに対応するなら、よみがな用のプリパティー設定できたら便利そう、専用のプリパティーをいちいち作っていたら汎用性ないから、任意にそして楽に内容を決められるようにしたいなぁ。

「ん、、、？」これってもう新しく言語作っているのではないのか？(ちょっとらしい)

そう思った私は「chatGPT(AI)」にこのアイデアを語って見ることにしてみました。
(私はAI使うのは良いと思う人。ただ、内部のロジックやアルゴリズム、は自分で考えたい。
なぜなら、AIはAIであるがゆえ、一般的な回答で一般的なアルゴリズムしか作れない。
まぁ一言で「面白くない」ちょっと強い口調だったけど、ようはAIはなにかを作ったりするのが得意ではないと思う。
で、今回はAIにはコードの設計はしないで、単純なエラーの確認やコードレビューをお願いした。
VScodeのCopilotは優秀だけど、考えを固定されるような感覚で今はオフにしている。
基本chatGPTにコードのzipファイルを渡してaiが分析からコードレビューをしてもらう感じの運用。)

AIと孤独なブレストを繰り返しているうちに、今の自分の知識では文字列の分析が難し、だけどこのアイデアは作れそうだし、作れたら楽になるのと自分で考えたものが動くのは楽しい!!
こんなモチベーションで、AIにJSで文字列を分析する方法のヒントと課題を出してもらいました、これでだんだんと文字列と正規表現などを学んでいくうちに。
つくれそうだなぁ、とおもいテストバージョンを作成。
初めてのnode.jsはwebのようなモジュールを使用するまでに大変だったりして、エラーをaiへ、aiを先生として使いながらも試行錯誤をして、なんとかコマンドを実行するだけの機能を持ったコードが完成した。

「う〜ん」これnode.jsでしか動かないじゃないかぁ、
なんと基本で使用していたnode.jsの関数？がwebでは動かなかった（ない）のだった。
これは大変だ、もともとhtmlを作成する目的が達成できなくなってしまう。
使ってる関数をweb版とnode.jsで共通にして内部をbootで呼び出すような内容で解決をしてみた。


-- 多分続く